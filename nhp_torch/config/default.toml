[paths]
raw_csv = "full_dataset_by_year_2014_2023_75_percent_float_casted_date_indexed.csv"
artifacts_dir = "artifacts"

[data]
date_column = "Date YY-MM"
missing_value = -1.0
transform = "logdiff" # "logdiff" or "pct"

# Only keep columns matching these substrings (case-insensitive). Empty list = keep all.
# Expanded feature set to improve fuel/energy shock prediction via cross-excitation.
# Includes: (1) Target fuel/energy, (2) Leading interest rate indicators, (3) Transport-sensitive food commodities.
column_filter = [
    # === TARGET: Fuel / Energy (what we want to predict) ===
    "Fuel oil #2 per gallon USD",
    "Gasoline, all types, per gallon USD",
    "Gasoline, unleaded regular, per gallon USD",
    
    # === LEADING INDICATORS: Interest Rates ===
    # Government Account Series shows +0.21 lagged correlation with fuel
    "Government Account Series:Non-marketable avg interest rate",
    # Treasury FRN shows +0.19 lagged correlation
    "Treasury Floating Rate Notes (FRN):Marketable avg interest rate",
    # Total Non-marketable shows +0.20 lagged correlation
    "Total Non-marketable:Non-marketable avg interest rate",
    # Treasury Bills shows +0.20 contemporaneous correlation
    "Treasury Bills:Marketable avg interest rate",
    # TIPS shows -0.16 lagged (inverse signal)
    "Treasury Inflation-Protected Securities (TIPS):Marketable avg interest rate",
    # Treasury Notes shows -0.17 lagged (inverse signal)
    "Treasury Notes:Marketable avg interest rate",
    # Other interest rate columns for completeness
    "Treasury Bonds:Marketable avg interest rate",
    "Total Marketable:Marketable avg interest rate",
    "Total Interest-bearing Debt:Interest-bearing Debt avg interest rate",
    "United States Savings Securities:Non-marketable avg interest rate",
    "State and Local Government Series:Non-marketable avg interest rate",
    
    # === LEADING INDICATORS: Transport-Sensitive Food Commodities ===
    # These commodities have high transport costs and show lagged correlations with fuel
    # Bacon: +0.15 lagged, +0.22 contemporaneous
    "Bacon, sliced, per lb. USD",
    # Chicken breast: +0.18 lagged correlation
    "Chicken breast, boneless, per lb. (453.6 gm) in U.S. city average, average price, not seasonally adjusted",
    # Lemons: +0.17 lagged, +0.19 contemporaneous
    "Lemons, per lb. (453.6 gm) in U.S. city average, average price, not seasonally adjusted",
    # Oranges: +0.27 contemporaneous (high transport sensitivity)
    "Oranges, navel, per lb. USD",
    # Steak: +0.21 contemporaneous (beef supply chain)
    "Steak, sirloin, USDA Choice, boneless, per lb. (453.6 gm) in U.S. city average, average price, not seasonally adjusted",
    # Ground beef variants (supply chain indicators)
    "Ground beef, 100% beef, per lb. (453.6 gm) in U.S. city average, average price, not seasonally adjusted",
    "Ground beef, lean and extra lean, per lb. (453.6 gm) in U.S. city average, average price, not seasonally adjusted",
]

[events]
threshold_z = 2.0
mark = "abs_z" # "abs_z" or "raw"
epsilon_time = 1e-3 # to break ties for multiple events within same month

[splits]
train_start = "2014-01"
train_end = "2020-12"
val_start = "2021-01"
val_end = "2021-12"
test_start = "2022-01"
test_end = "2023-12"

[model]
embed_dim = 32
hidden_dim = 64
use_marks = true

[train]
seed = 7
epochs = 300
lr = 1e-3
weight_decay = 1e-4
patience = 30
mc_samples_per_interval = 8
batch_size = 1 # single global timeline (sequence)

[eval]
horizons_months = [1, 3]


